import{e as k,d as A,f as b,b as v,s as D,a as L,c as w,g as H,i as I,j as N,k as M,h as T,l as P,P as Y}from"./disclose-version.BaCPwgnG.js";import{d as q,c as C,m as V,n as $,q as j,l as B,t as W,h as z,v as F,w as G}from"./runtime.Co71QiUf.js";const J=new Set,O=new Set;function m(a){var R;var r=this,s=r.ownerDocument,l=a.type,o=((R=a.composedPath)==null?void 0:R.call(a))||[],e=o[0]||a.target,d=0,c=a.__root;if(c){var f=o.indexOf(c);if(f!==-1&&(r===document||r===window)){a.__root=r;return}var u=o.indexOf(r);if(u===-1)return;f<=u&&(d=f)}if(e=o[d]||a.target,e!==r){q(a,"currentTarget",{configurable:!0,get(){return e||s}});try{for(var _,t=[];e!==null;){var i=e.parentNode||e.host||null;try{var n=e["__"+l];if(n!==void 0&&!e.disabled)if(C(n)){var[y,...g]=n;y.apply(e,[a,...g])}else n.call(e,a)}catch(p){_?t.push(p):_=p}if(a.cancelBubble||i===r||i===null)break;e=i}if(_){for(let p of t)queueMicrotask(()=>{throw p});throw _}}finally{a.__root=r,e=r}}}function X(a,r){(a.__t??(a.__t=a.nodeValue))!==r&&(a.nodeValue=a.__t=r)}function K(a,r){const s=r.anchor??r.target.appendChild(k());return S(a,{...r,anchor:s})}function Z(a,r){r.intro=r.intro??!1;const s=r.target,l=T,o=w;try{for(var e=s.firstChild;e&&(e.nodeType!==8||e.data!==A);)e=e.nextSibling;if(!e)throw b;v(!0),D(e),L();const d=S(a,{...r,anchor:e});if(w.nodeType!==8||w.data!==H)throw I(),b;return v(!1),d}catch(d){if(d===b)return r.recover===!1&&V(),N(),M(s),v(!1),K(a,r);throw d}finally{v(l),D(o)}}const h=new Map;function S(a,{target:r,anchor:s,props:l={},events:o,context:e,intro:d=!0}){N();var c=new Set,f=t=>{for(var i=0;i<t.length;i++){var n=t[i];if(!c.has(n)){c.add(n);var y=Y.includes(n);r.addEventListener(n,m,{passive:y});var g=h.get(n);g===void 0?(document.addEventListener(n,m,{passive:y}),h.set(n,1)):h.set(n,g+1)}}};f($(J)),O.add(f);var u=void 0,_=j(()=>(B(()=>{if(e){W({});var t=G;t.c=e}o&&(l.$$events=o),T&&P(s,null),u=a(s,l)||{},T&&(z.nodes.end=w),e&&F()}),()=>{for(var t of c){r.removeEventListener(t,m);var i=h.get(t);--i===0?(document.removeEventListener(t,m),h.delete(t)):h.set(t,i)}O.delete(f),E.delete(u)}));return E.set(u,_),u}let E=new WeakMap;function x(a){const r=E.get(a);r==null||r()}export{Z as h,K as m,X as s,x as u};
